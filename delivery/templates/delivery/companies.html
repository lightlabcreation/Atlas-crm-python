{% extends "base.html" %}
{% load static %}

{% block title %}Delivery Companies{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
  <div class="mb-4 flex items-center justify-between">
    <h1 class="text-xl font-semibold text-gray-800">Companies Shipping</h1>
    <a href="#" class="px-3 py-2 bg-yellow-500 text-white text-sm rounded-md">Add Company</a>
  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for row in companies %}
    <div class="bg-white rounded-lg border shadow-sm p-4">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-sm font-semibold text-gray-800">{{ row.company.name_en|default:row.company.name_ar }}</h3>
        <span class="text-xs text-gray-500">{{ row.company.is_active|yesno:"Active,Inactive" }}</span>
      </div>
      <div class="text-xs text-gray-600 space-y-1">
        <div class="flex justify-between"><span>Total Orders</span><span class="font-semibold text-gray-800">{{ row.total }}</span></div>
        <div class="flex justify-between"><span>Delivered</span><span class="font-semibold text-green-700">{{ row.delivered }}</span></div>
        <div class="flex justify-between"><span>Returned</span><span class="font-semibold text-red-700">{{ row.returned }}</span></div>
        <div class="flex justify-between"><span>Success Rate</span><span class="font-semibold">{{ row.success_rate }}%</span></div>
      </div>
      <div class="mt-3 text-right">
        <a href="{% url 'delivery:company_detail' row.company.id %}" class="text-blue-600 text-sm">Details</a>
      </div>
    </div>
    {% empty %}
    <div class="col-span-full text-center text-gray-500">No companies</div>
    {% endfor %}
  </div>
</div>
{% endblock %}


